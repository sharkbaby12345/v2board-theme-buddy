import{L as O,n as Y,s as G,o as J,p as K,F as Q}from"./User-D2-o_HEw.js";import{B as q,M as F,r as w,ac as R,D as f,E as b,F as e,g as a,O as n,J as j,R as g,A as z,ap as W,l as M,S as $,K as X,Q as v,H as U,L as C,b as Z}from"./index-KkQdgUcf.js";import{I as B,k as E,n as L}from"./index-oQc-bDJc.js";import{_ as T,F as V}from"./index-CkTHItn8.js";import{S as ee,a as te,C as se}from"./index-m2BbeolK.js";import{B as D}from"./index-DO8qY5aF.js";import"./omit-B7_q56Sl.js";import"./vnode-DKG64mRH.js";import"./index-Cj1yT-6A.js";import"./ResizeObserver.es-B1PUzC5B.js";import"./index-BiUVUjLI.js";import"./styleChecker-BuStD9lD.js";import"./colors-Bij3F8r-.js";import"./collapseMotion-CpBugv6e.js";import"./CheckOutlined-CdGoz7MF.js";const ae=""+new URL("index-node-map-bg.dd4c11cd-4nmi0YCr.png",import.meta.url).href,le=e("div",null,[e("h2",{class:"mt-6 text-3xl font-bold tracking-tight text-gray-900"},"登陆注册")],-1),oe={class:"mt-8"},ie=e("div",null,[e("div",{class:"relative mt-6"},[e("div",{class:"absolute inset-0 flex items-center","aria-hidden":"true"},[e("div",{class:"w-full border-t border-gray-300"})]),e("div",{class:"relative flex justify-center text-sm"},[e("span",{class:"bg-white px-2 text-gray-500"},"请输入您的邮箱和密码")])])],-1),ne={class:"mt-6"},re={action:"#",method:"POST",class:"space-y-6"},ue=e("label",{for:"email",class:"block text-sm font-medium leading-6 text-gray-900"},"邮箱",-1),ce={class:"space-y-1"},de=e("label",{for:"email",class:"block text-sm font-medium leading-6 text-gray-900"},"密码",-1),me=e("div",{class:"flex items-center justify-between"},null,-1),_e={class:"flex font-black justify-center items-center gap-5"},pe=e("p",{class:"text-[#8c8c8c]"},"还没账号?",-1),fe={__name:"Login",props:{page:{},pageModifiers:{}},emits:["update:page"],setup(k){q();const o=F(),l=w(),d=w({username:"",password:""}),m=R(k,"page"),c={username:[{type:"email",required:!0,message:"请填写正确的邮箱",trigger:"change"}],password:[{required:!0,message:"请填写密码",trigger:"change"},{min:8,message:"最小8位密码"}]},t=()=>{l.value.validate().then(()=>{O(d.value.username,d.value.password).then(r=>{g.success("登陆成功"),o.Set_Token(r.data.auth_data),window.location.reload()})})};return(r,_)=>{const y=B,i=T,s=E,h=V;return f(),b(j,null,[le,e("div",oe,[a(h,{ref_key:"formRef",ref:l,model:d.value,rules:c},{default:n(()=>[ie,e("div",ne,[e("form",re,[e("div",null,[ue,a(i,{name:"username"},{default:n(()=>[a(y,{value:d.value.username,"onUpdate:value":_[0]||(_[0]=p=>d.value.username=p)},null,8,["value"])]),_:1})]),e("div",ce,[de,a(i,{name:"password"},{default:n(()=>[a(s,{value:d.value.password,"onUpdate:value":_[1]||(_[1]=p=>d.value.password=p)},null,8,["value"])]),_:1})]),me,e("div",null,[e("p",{onClick:t,class:"flex w-full cursor-pointer hover:opacity-85 justify-center rounded-md bg-[#0b7fe9] px-3 py-2 text-sm font-semibold text-white shadow-sm focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"}," 登录")]),e("div",_e,[pe,e("p",{onClick:_[2]||(_[2]=p=>m.value=2),class:"cursor-pointer text-[#40a9ff]"},"立即注册"),e("p",{onClick:_[3]||(_[3]=p=>m.value=3),class:"cursor-pointer text-[#40a9ff]"},"忘记密码")])])])]),_:1},8,["model"])])],64)}}},ve=e("div",null,[e("h2",{class:"mt-6 text-3xl font-bold tracking-tight text-gray-900"},"加入我们")],-1),ge={class:"mt-8"},he=e("div",null,[e("div",{class:"relative mt-6"},[e("div",{class:"absolute inset-0 flex items-center","aria-hidden":"true"},[e("div",{class:"w-full border-t border-gray-300"})]),e("div",{class:"relative flex justify-center text-sm"},[e("span",{class:"bg-white px-2 text-gray-500"},"请输入您的邮箱和密码")])])],-1),xe={class:"mt-6"},we={class:"space-y-6"},ye=e("label",{for:"email",class:"block text-sm font-medium leading-6 text-gray-900"},[e("span",{class:"text-red-500"},"*"),v("邮箱")],-1),be={class:"flex items-center gap-x-4"},ke={key:0,class:"space-y-1"},$e=e("label",{for:"email",class:"block text-sm font-medium leading-6 text-gray-900"},[e("span",{class:"text-red-500"},"*"),v("验证码")],-1),Ce={class:"space-y-1"},je=e("label",{for:"email",class:"block text-sm font-medium leading-6 text-gray-900"},[e("span",{class:"text-red-500"},"*"),v("密码")],-1),qe={class:"space-y-1"},Se={for:"email",class:"block text-sm font-medium leading-6 text-gray-900"},Ue={key:0,class:"text-red-500"},Re={class:"space-y-1"},Be=e("a",{target:"_blank",href:"http://localhost:8080",class:"font-black hover:text-blue-600"},"服务条款",-1),Ee={class:"flex items-center justify-center font-black gap-5"},Te=e("p",{class:"text-[#8c8c8c]"},"已经有帐户？",-1),Ve={__name:"Register",props:{page:{},pageModifiers:{}},emits:["update:page"],setup(k){const o=q(),l=z(),d=F(),m=R(k,"page"),c=w({username:[{type:"email",required:!0,message:"请填写正确的邮箱",trigger:"change"}],password:[{required:!0,message:"请填写密码",trigger:"change"},{min:8,message:"最小8位密码"}],code:[{required:!1,message:"请填写邀请码",trigger:"change"}]}),t=w({username:"",password:"",email_whitelist_suffix:0,email_whitelist_suffix_value:"",is_email_verify:0,email_code:"",is_recaptcha:!1,recaptcha_site_key:"",code:"",tos_url:"",checked:!1,email(){return this.username+this.email_whitelist_suffix_value},EmailVerify(){if(this.username.length<=2){g.warn("请填写正确的邮箱");return}G(this.email()).then(i=>{g.success("发送成功")}).catch(i=>{let s=i.data.message;s==="The given data was invalid."&&(s="请检查邮箱是否正确"),g.error(s)})}});W(()=>{t.value.code=l.query.code,Y().then(i=>{t.value.email_whitelist_suffix=i.data.email_whitelist_suffix,t.value.is_email_verify=i.data.is_email_verify,c.value.code[0].required=i.data.is_invite_force===1,t.value.email_whitelist_suffix!==0&&(delete c.value.username,t.value.email_whitelist_suffix=t.value.email_whitelist_suffix.map(s=>"@"+s),t.value.email_whitelist_suffix_value=t.value.email_whitelist_suffix[0])})});const r=w(),_=()=>{r.value.validate().then(()=>{if(!t.value.checked)return g.warn("请同意服务条款");if(t.value.username.length===0)return g.warn("请填写邮箱地址");J(t.value.email(),t.value.password,t.value.code,t.value.email_code).then(i=>{g.success("注册成功"),d.Set_Token(i.data.auth_data),o.push({name:"Dashboard"})}).catch(i=>{let s=i.data.message;s==="The given data was invalid."&&(s="请检查邮箱或密码是否正确"),g.error(s)})})},y=M(()=>{let{title:i,desc1:s,desc2:h,inviteCodeEdit:p}=window.config.SignPage;return p=p===!1&&o.currentRoute.value.query.code,{title:i||"AirBus",desc1:s||"High-speed network covering the whole world",desc2:h||"Your high-speed journey starts with AirBus",inviteCodeEdit:p}});return(i,s)=>{const h=B,p=ee,x=te,S=T,P=D,A=L,H=E,I=se,N=V;return f(),b(j,null,[ve,e("div",ge,[a(N,{ref_key:"formRef",ref:r,model:t.value,rules:c.value},{default:n(()=>[he,e("div",xe,[e("form",we,[e("div",null,[ye,a(S,{name:"username"},{default:n(()=>[e("div",be,[a(h,{value:t.value.username,"onUpdate:value":s[0]||(s[0]=u=>t.value.username=u),placeholder:"邮箱"},null,8,["value"]),t.value.email_whitelist_suffix!==0?(f(),$(x,{key:0,ref:"select",value:t.value.email_whitelist_suffix_value,"onUpdate:value":s[1]||(s[1]=u=>t.value.email_whitelist_suffix_value=u),style:{width:"120px"}},{default:n(()=>[(f(!0),b(j,null,X(t.value.email_whitelist_suffix,u=>(f(),$(p,{value:u},{default:n(()=>[v(U(u),1)]),_:2},1032,["value"]))),256))]),_:1},8,["value"])):C("",!0)])]),_:1})]),t.value.is_email_verify===1?(f(),b("div",ke,[$e,a(A,{compact:""},{default:n(()=>[a(h,{value:t.value.email_code,"onUpdate:value":s[2]||(s[2]=u=>t.value.email_code=u),style:{width:"calc(80%)"}},null,8,["value"]),a(P,{onClick:s[3]||(s[3]=u=>t.value.EmailVerify()),type:"primary"},{default:n(()=>[v("发送")]),_:1})]),_:1})])):C("",!0),e("div",Ce,[je,a(S,{name:"password"},{default:n(()=>[a(H,{value:t.value.password,"onUpdate:value":s[4]||(s[4]=u=>t.value.password=u),placeholder:"密码"},null,8,["value"])]),_:1})]),e("div",qe,[e("label",Se,[c.value.code[0].required?(f(),b("span",Ue,"*")):C("",!0),v("邀请码")]),a(S,{name:"code"},{default:n(()=>[a(h,{value:t.value.code,"onUpdate:value":s[5]||(s[5]=u=>t.value.code=u),placeholder:"邀请码",disabled:y.value.inviteCodeEdit},null,8,["value","disabled"])]),_:1})]),e("div",Re,[a(I,{checked:t.value.checked,"onUpdate:checked":s[6]||(s[6]=u=>t.value.checked=u)},{default:n(()=>[v("我已阅读并同意 "),Be]),_:1},8,["checked"])]),e("div",null,[e("p",{onClick:_,class:"flex w-full cursor-pointer hover:opacity-85 justify-center rounded-md bg-[#0b7fe9] px-3 py-2 text-sm font-semibold text-white shadow-sm focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"}," 立即注册")]),e("div",Ee,[Te,e("p",{class:"cursor-pointer text-[#0b7fe9]",onClick:s[7]||(s[7]=u=>m.value=1)},"登 录")])])])]),_:1},8,["model","rules"])])],64)}}},Fe=e("div",null,[e("h2",{class:"mt-6 text-3xl font-bold tracking-tight text-gray-900"},"忘记密码")],-1),Me={class:"mt-8"},Le=e("div",null,[e("div",{class:"relative mt-6"},[e("div",{class:"absolute inset-0 flex items-center","aria-hidden":"true"},[e("div",{class:"w-full border-t border-gray-300"})]),e("div",{class:"relative flex justify-center text-sm"},[e("span",{class:"bg-white px-2 text-gray-500"},"请输入您的邮箱和密码")])])],-1),De={class:"mt-6"},Pe={action:"#",method:"POST",class:"space-y-6"},Ae=e("label",{for:"email",class:"block text-sm font-medium leading-6 text-gray-900"},[e("span",{class:"text-red-500"},"*"),v(" 邮箱")],-1),He={class:"space-y-1"},Ie=e("label",{for:"email",class:"block text-sm font-medium leading-6 text-gray-900"},[e("span",{class:"text-red-500"},"*"),v(" 验证码")],-1),Ne={class:"space-y-1"},Oe=e("label",{for:"email",class:"block text-sm font-medium leading-6 text-gray-900"},[e("span",{class:"text-red-500"},"*"),v(" 密码")],-1),Ye=e("div",{class:"flex items-center justify-between"},null,-1),Ge={class:"flex font-black justify-center items-center gap-5"},Je=e("p",{class:"text-[#8c8c8c]"},"已经有帐户？",-1),Ke={__name:"ForgetPassword",props:{page:{},pageModifiers:{}},emits:["update:page"],setup(k){q();const o=w(),l=w({username:"",password:"",code:"",send_email(){K(this.username).then(t=>{g.success("发送成功")})}}),d=R(k,"page"),m={username:[{type:"email",required:!0,message:"请填写正确的邮箱",trigger:"change"}],code:[{required:!0,message:"请填写验证码",trigger:"change"}],password:[{required:!0,message:"请填写密码",trigger:"change"},{min:8,message:"最小8位密码"}]},c=()=>{o.value.validate().then(()=>{Q(l.value.username,l.value.password,l.value.code).then(t=>{g.success("重置成功 快去登陆吧"),d.value=1})})};return(t,r)=>{const _=B,y=T,i=D,s=L,h=E,p=V;return f(),b(j,null,[Fe,e("div",Me,[a(p,{ref_key:"formRef",ref:o,model:l.value,rules:m},{default:n(()=>[Le,e("div",De,[e("form",Pe,[e("div",null,[Ae,a(y,{name:"username"},{default:n(()=>[a(_,{value:l.value.username,"onUpdate:value":r[0]||(r[0]=x=>l.value.username=x)},null,8,["value"])]),_:1})]),e("div",He,[Ie,a(y,{name:"code"},{default:n(()=>[a(s,{compact:""},{default:n(()=>[a(_,{value:l.value.code,"onUpdate:value":r[1]||(r[1]=x=>l.value.code=x),style:{width:"calc(80%)"}},null,8,["value"]),a(i,{onClick:r[2]||(r[2]=x=>l.value.send_email()),type:"primary"},{default:n(()=>[v("发送")]),_:1})]),_:1})]),_:1})]),e("div",Ne,[Oe,a(y,{name:"password"},{default:n(()=>[a(h,{value:l.value.password,"onUpdate:value":r[3]||(r[3]=x=>l.value.password=x)},null,8,["value"])]),_:1})]),Ye,e("div",null,[e("p",{onClick:c,class:"flex w-full cursor-pointer hover:opacity-85 justify-center rounded-md bg-[#0b7fe9] px-3 py-2 text-sm font-semibold text-white shadow-sm focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"}," 立即重置")]),e("div",Ge,[Je,e("p",{onClick:r[4]||(r[4]=x=>d.value=1),class:"cursor-pointer text-[#40a9ff]"}," 登 录")])])])]),_:1},8,["model"])])],64)}}},Qe={class:"flex flex-1 h-screen items-center justify-center"},ze={class:"flex-1 hidden h-full relative lg:flex p-5"},We={class:"bg-[#1890ff] w-full h-full rounded-xl flex justify-center gap-8 flex-col items-center"},Xe=e("img",{alt:"",class:"max-w-[500px]",src:ae},null,-1),Ze={class:"text-center"},et={class:"text-white text-[24px] font-black"},tt=e("p",{class:"mt-4 text-white"},"High-speed network covering the whole world",-1),st={class:"text-white"},at={class:"flex lg:w-[40%] w-full flex-col justify-center px-4 py-12 sm:px-6 lg:flex-none"},lt={class:""},wt={__name:"Home",setup(k){const o=w(1),l=M(()=>{var m;return{title:((m=window.config)==null?void 0:m.title)||"AirBus"}}),d=q();return Z(()=>{const{query:m}=d.currentRoute.value;m&&m.code&&(o.value=2)}),(m,c)=>(f(),b("div",Qe,[e("div",ze,[e("div",We,[Xe,e("div",Ze,[e("h4",et,"覆盖全球的高速网络，您的高速旅程从 "+U(l.value.title)+" 开始",1),tt,e("p",st,"Your high-speed journey starts with "+U(l.value.title),1)])])]),e("div",at,[e("div",lt,[o.value===1?(f(),$(fe,{key:0,page:o.value,"onUpdate:page":c[0]||(c[0]=t=>o.value=t)},null,8,["page"])):o.value===2?(f(),$(Ve,{key:1,page:o.value,"onUpdate:page":c[1]||(c[1]=t=>o.value=t)},null,8,["page"])):o.value===3?(f(),$(Ke,{key:2,page:o.value,"onUpdate:page":c[2]||(c[2]=t=>o.value=t)},null,8,["page"])):C("",!0)])])]))}};export{wt as default};
